# ABOOK 的后端

## 环境配置

1. typescript 因为使用 ts，所以之后是需要进行编译的 tsconfig 就是配置编译的环境和配置选项
2. prettier 格式化插件
3. eslint 设置代码的规范 增加代码的健壮性
4. husky 和 lint-staged husky 是 git hook 钩子 可以在提交代码之前进行操作 比如进行 eslint lint-staged 是对暂存代码进行 eslint
5. 实时更新代码 目的是 在文件变化时可以实时的更新代码 此时需要用到三个包 rimraf（用于跨平台兼容 删除目录 dist） concurrently （用于可以同时执行几个命令 比如 tsc -w 和 nodemon） nodemon（用于实时监听文件的变化并且更新） 项目运行： npm run start 就可以实时运行项目了

## 构建 web 服务器

- 在构建 web 服务器之前我们需要知道一些前置知识。我们需要了解两台计算机之间该如何传递数据

### 网络层与应用层

互联网的实现分成了好几层。每一层都有自己的功能，就像建筑一样，每一层都靠下一层来支持。

那么它是怎么分层的呢？每一层都有什么不一样的功能呢？

最为广泛的一种分层方式是 OSI（Open System Interconnect）模型，它将互联网分为七层。我们从最底下的一层开始

1. 物理层 (Physical Layer).

   - 两台电脑之间要相互通信，需要干什么？我们可以首先想一下 当人与人之间进行交流时，通常是通过声音来进行交流。当一个人说话时，声音会引起空气的振动，这些振动以波的形式传递到另一个人的耳朵中，被耳朵接收并转化为电信号，然后通过神经系统传递到大脑，最终被理解为声音和语言
   - 相同的，两台电脑通信也需要一种介质来进行传递信息。这些介质一般是（电缆、光缆、网卡、无线电波等）通过他们将电脑之间连接起来，因为电脑只能识别 0 和 1 所以这些介质传递的也是 0 和 1，它们可能是通过电信号等方式传播到另外一台电脑上然后再被解析出来成 0 和 1。 传递的数据也叫做数据帧(Data Frame)。

2. 数据链路层 (Data Link Layer) 当然单纯的 0 和 1 是没有任何意义的，必须规定解读的方式：多少个电信号才算一组？每个信号有什么意义？这就是<strong>数据链路层</strong>的作用。

   - 在早期，每家公司都有自己的电信号分组。逐渐的，一种叫做 “以太网”(Ethernet)的协议，占据了主导地位。以太网规定，一组电信号构成一个数据包，也就是数据帧。每一帧分成两个部分：标头（Head）和数据（Data）
     ![数据帧](http://www.ruanyifeng.com/blogimg/asset/201205/bg2012052904.png)
     "标头"包含数据包的一些说明项，比如发送者、接受者、数据类型等等；"数据"则是数据包的具体内容。
   - 上面提到，以太网数据包的"标头"，包含了发送者和接受者的信息。那么，发送者和接受者是如何标识呢？以太网规定，连入网络的所有设备，都必须具有"网卡"接口。数据包必须是从一块网卡，传送到另一块网卡。网卡的地址，就是数据包的发送地址和接收地址，这叫做 MAC 地址。

3. 网络层(Network Layer)
4. 传输层(Transport Layer)
5. 会议层(会话层)(Session Layer)
6. 表现层(表示层)(Presentation Layer)
7. 应用层(Application Layer)
